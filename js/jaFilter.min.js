!function(t){"use strict";var e=".jaFilter",n={events:"change",containerId:null,rows:null,noRecount:null,activeFilters:[],filtersInDepth:[],countInDepth:[],otherFilters:[],jaAttribute:"jafilter",notInRange:"notInFilterRange",hideOnlyAvailableData:!1,callback:function(){},done:function(){}},i={filter:function(e){{var n=e.notInRange,r=!0;e.callback}return e.activeFilters=t.extend({},e.activeFilters),e.$rows.filter(function(){var r=t(this),a=t(this).data(),o=!0;return t.each(e.activeFilters,function(n,s){if(e.filtersInDepth.length>0&&-1!=t.inArray(n,e.filtersInDepth)){if(o=i.depthFilter(r,n,e),!o)return!1}else if(e.activeFilters[n].length>0)if("undefined"==typeof a[n]&&e.hideOnlyAvailableData)o=!0;else{if(-1==t.inArray(a[n],s))return o=!1,!1;o=!0}}),e.otherFilters.length>0&&("string"==typeof e.otherFilters&&(e.otherFilters=[e.otherFilters]),t.each(e.otherFilters,function(t,e){e.apply(this,[r])})),o?void t(this).removeClass(n):!0}).addClass(n),this.countAttributesForFilter(e,"onfilter"),r},depthFilter:function(e,n,i){var r=i.notInRange,a=!0;return e.find("[data-"+n+"]").each(function(){var e=t(this),o=e.data(n);0==i.activeFilters[n].length?(e.removeClass(r),a=!0):-1==t.inArray(o,i.activeFilters[n])?e.addClass(r):(e.removeClass(r),a=!0)}),a},countAttributesForFilter:function(e,n){var i=[];e.$rows.not("."+e.notInRange).each(function(){var n=t(this),r=t(this).data();t.each(r,function(t,e){"undefined"==typeof i[t]&&(i[t]=[]),"undefined"!=typeof i[t][e]?i[t][e]+=1:i[t][e]=1}),e.countInDepth.length>0&&t.each(e.countInDepth,function(r,a){n.find("[data-"+a+"]").not("."+e.notInRange).each(function(){var e=t(this).data(a);"undefined"==typeof i[a]&&(i[a]=[]),"undefined"!=typeof i[a][e]?i[a][e]+=1:i[a][e]=1})})}),"string"==typeof e.noRecount&&(e.noRecount=[e.noRecount]),e.$selector.find('[type="checkbox"]').each(function(){var r=t(this).data(e.jaAttribute);if(-1!=t.inArray(r,e.noRecount)&&"init"!=n);else{var a,o=t(this).val();a="undefined"==typeof i[r]||"undefined"==typeof i[r][o]?0:i[r][o],t(this).next().text(a)}})}},r={make:function(r){"undefined"===r&&t.error("jQuery"+e+" may not be initialized without options."),r=t.extend({},n,r),r.events=r.events.replace(/(\w+)/g,"$1"+e+" ");var a='<style type = "text/css">.'+r.notInRange+"{display:none!important;}</style>";return t(a).appendTo("head"),"string"==typeof r.filtersInDepth&&(r.filtersInDepth=[r.filtersInDepth]),"string"==typeof r.countInDepth&&(r.countInDepth=[r.countInDepth]),this.each(function(){r.$selector=t(this),r.$containerId=t(r.containerId),r.$rows=t(r.containerId).find(r.rows),t(this).find('[type="checkbox"]').each(function(){var e=t(this).data(r.jaAttribute);r.activeFilters[e]=[]}),i.countAttributesForFilter(r,"init"),t(this).find('[type="checkbox"]').on(r.events,function(){var e,n=t(this).data(r.jaAttribute),a=parseInt(t(this).val());if(t(this).is(":checked"))r.activeFilters[n].push(a);else{var o=t.inArray(a,r.activeFilters[n]);r.activeFilters[n].splice(o,1)}e=i.filter(r),r.done&&r.done(e)})}),this},destroy:function(){return this.each(function(){t(this).off(e)}),this}};t.fn.jaFilter=function(n){return r[n]?r[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?(t.error("Method "+n+" does not exist on jQuery"+e),this):r.make.apply(this,arguments)}}(jQuery);